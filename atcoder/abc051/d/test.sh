#!/bin/bash
all_ac=true

try() {
    input="$1"
    expected="$2"

    actual="$(echo $input | ./main)"

    if [ "$actual" != "$expected" ]; then
        echo "WA"
        echo "expected:"
        echo "$expected"
        echo
        echo "actual:"
        echo "$actual"
        echo

        all_ac=false
        return
    fi
    echo "AC"
    echo
}

# test cases
echo "[Sample1]"
input1="$(cat << EOS
3 3
1 2 1
1 3 1
2 3 3
EOS
)"
expected1="$(cat << EOS
1

EOS
)"
try "$input1" "$expected1"

echo "[Sample2]"
input2="$(cat << EOS
3 2
1 2 1
2 3 1
EOS
)"
expected2="$(cat << EOS
0

EOS
)"
try "$input2" "$expected2"

echo "[Sample3]"
input3="$(cat << EOS
100 199
81 1 727
81 2 869
81 3 698
81 4 262
81 5 420
81 6 392
81 7 746
81 8 46
81 9 480
81 10 780
81 11 695
81 12 844
81 13 625
81 14 228
81 15 802
81 16 190
81 17 322
81 18 1
81 19 104
81 20 974
81 21 730
81 22 414
81 23 251
81 24 715
81 25 917
81 26 60
81 27 392
81 28 126
81 29 801
81 30 184
81 31 191
81 32 374
81 33 963
81 34 728
81 35 526
81 36 964
81 37 312
81 38 674
81 39 942
81 40 343
81 41 68
81 42 126
81 43 828
81 44 746
81 45 518
81 46 246
81 47 458
81 48 665
81 49 562
81 50 581
81 51 355
81 52 160
81 53 398
81 54 573
81 55 386
81 56 324
81 57 389
81 58 831
81 59 124
81 60 367
81 61 119
81 62 880
81 63 977
81 64 192
81 65 751
81 66 134
81 67 415
81 68 321
81 69 236
81 70 47
81 71 927
81 72 31
81 73 464
81 74 130
81 75 302
81 76 254
81 77 148
81 78 419
81 79 597
81 80 419
81 82 346
81 83 996
81 84 986
81 85 320
81 86 602
81 87 695
81 88 725
81 89 443
81 90 381
81 91 397
81 92 788
81 93 230
81 94 85
81 95 362
81 96 807
81 97 993
81 98 755
81 99 734
81 100 212
87 70 489
92 40 340
67 63 126
98 74 126
12 5 48
73 58 200
98 10 521
69 33 350
91 87 768
94 64 843
17 7 67
62 53 169
100 15 654
93 30 981
49 44 170
87 42 730
23 3 679
60 57 131
24 7 374
94 90 581
92 37 832
65 40 708
57 45 668
71 15 702
80 21 392
98 72 541
32 5 773
88 52 329
88 17 225
66 61 806
69 7 127
51 14 715
34 12 314
93 49 676
60 15 955
93 10 640
92 19 767
88 44 85
92 35 381
61 41 290
71 34 255
99 49 134
34 9 320
80 65 961
48 43 117
49 24 296
57 19 415
82 42 109
70 47 785
70 26 695
15 1 269
86 9 550
100 84 372
54 20 338
21 12 478
85 29 493
90 76 423
32 30 246
79 10 708
94 45 472
85 53 60
58 46 115
100 50 291
22 8 498
89 48 651
69 40 869
49 42 636
72 49 456
11 8 255
63 60 732
38 9 446
78 21 189
74 47 567
62 25 172
34 26 440
99 14 775
64 58 653
40 24 646
80 13 841
64 60 984
63 5 74
93 76 430
53 37 281
62 49 373
67 30 584
90 25 11
66 29 45
63 15 19
78 4 183
41 23 809
91 69 838
90 43 797
14 10 985
95 49 954
62 51 634
67 60 975
68 59 781
90 28 505
68 28 938
65 4 334
EOS
)"
expected3="$(cat << EOS
50

EOS
)"
try "$input3" "$expected3"

echo "[Result]"
if ! $all_ac; then
    echo "WA"
    echo
    exit 1
fi
echo "All AC"
